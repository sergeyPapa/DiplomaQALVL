# Дипломный проект по курсу «Тестировщик ПО»
## О проекте
В рамках данного проекта необходимо автоматизировать тестирование комплексного сервиса покупки тура, взаимодействующего с СУБД и API Банка.

База данных хранит информацию о заказах, платежах, статусах карт, способах оплаты.

Покупка тура возможна с помощью карты и в кредит. Данные по картам обрабатываются отдельными сервисами (Payment Gate, Credit Gate)

Сервис обрабатывает только специальные номера карт, которые предоставлены для тестирования:

    APPROVED карта - 4444 4444 4444 4441

    DECLINED карта - 4444 4444 4444 4442.

Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж, и успешно ли он был совершён (при этом данные карт сохранять не допускается).

## Документация 

[План автоматизации тестирования веб-формы сервиса покупки туров интернет-банка](https://github.com/sergeyPapa/DiplomaQALVL/reports/Plan.md)

[Отчёт о проведённом тестировании](https://github.com/sergeyPapa/DiplomaQALVL/reports/Report.md)

[Комплексный отчёт о проведённой автоматизации тестирования](https://github.com/sergeyPapa/DiplomaQALVL/reports/Summary.md)



## Запуск приложения

Перед запуском необходимо выполнить следующие предусловия. Если у вас уже есть необходимое ПО, то понадобится только п.1 и запуск Docker.

*Предусловия:*
1. Клонировать [репозиторий](https://github.com/sergeyPapa/DiplomaQALVL).
2. Если не установлен Docker Desktop, необходимо его [скачать](https://docs.docker.com/desktop/) и установить.
3. Запустить Docker Desktop.
4. Открыть проект в IntelliJ IDEA

### Запуск
1. Запустить необходимые базы данных (MySQL и PostgreSQL), а также NodeJS. Параметры для запуска хранятся в файле `docker-compose.yml`. Для запуска необходимо ввести в терминале команду:
```
docker-compose up
```
2. В новой вкладке терминала ввести следующую команду в зависимости от базы данных
- `java -Dspring.datasource.url=jdbc:mysql://localhost:3306/app -jar artifacts/aqa-shop.jar` - для MySQL
- `java -Dspring.datasource-postgresql.url=jdbc:postgresql://localhost:5432/app -jar artifacts/aqa-shop.jar` - для PostgreSQL
3. Приложение должно запуститься по адресу http://localhost:8080/

## Запуск тестов
1. В новой вкладке терминала ввести команду в зависимости от запущенной БД в п.2 Запуска:
- `gradlew clean test -Durl=jdbc:mysql://localhost:3306/app` - для MySQL
- `gradlew clean test -Durl=jdbc:postgresql://localhost:5432/app` - для PostgreSQL

## Перезапуск приложения и тестов
Если необходимо перезапустить приложение и/или тесты (например, для другой БД), необходимо выполнить остановку работы в запущенных ранее вкладках терминала, нажав в них Ctrl+С
    
## Формирование отчета по результатам тестирования
После прохождения всех тестов, сгенерированный отчет можно будет найти в папке 
`build\reports\tests\test`. Файл отчета `index.html`.
